{"@t":"2023-07-31T10:29:15.2717532Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"182","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"\nSELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END\nFROM pg_class AS cls\nJOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\nWHERE\n        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND\n        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND\n        -- Exclude tables which are members of PG extensions\n        NOT EXISTS (\n            SELECT 1 FROM pg_depend WHERE\n                classid=(\n                    SELECT cls.oid\n                    FROM pg_class AS cls\n                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\n                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'\n                ) AND\n                objid=cls.oid AND\n                deptype IN ('e', 'x')\n        )","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:29:15.9010661Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"147","parameters":"@__normalizedName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:29:16.0662022Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"@__normalizedName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:29:16.0704761Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"@__normalizedName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:29:16.2453659Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"60","parameters":"@__normalizedEmail_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"CreatedAt\", a.\"Email\", a.\"EmailConfirmed\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"\nFROM \"AspNetUsers\" AS a\nWHERE a.\"NormalizedEmail\" = @__normalizedEmail_0\nLIMIT 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:29:16.4254932Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"@__normalizedRoleName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedRoleName_0\nLIMIT 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:29:16.4952733Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"24","parameters":"@__p_0='?', @__p_1='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"UserId\", a.\"RoleId\"\nFROM \"AspNetUserRoles\" AS a\nWHERE a.\"UserId\" = @__p_0 AND a.\"RoleId\" = @__p_1\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:29:17.0658698Z","@mt":"Now listening on: {address}","address":"http://localhost:5067","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:29:17.0704865Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:29:17.0713238Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:29:17.0723112Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"/home/stephen/repos/csharp/EL/Web","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:32:04.8157573Z","@mt":"Application is shutting down...","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:32:04.8627733Z","@mt":"finally"}
{"@t":"2023-07-31T10:33:29.3496507Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"47","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"\nSELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END\nFROM pg_class AS cls\nJOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\nWHERE\n        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND\n        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND\n        -- Exclude tables which are members of PG extensions\n        NOT EXISTS (\n            SELECT 1 FROM pg_depend WHERE\n                classid=(\n                    SELECT cls.oid\n                    FROM pg_class AS cls\n                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\n                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'\n                ) AND\n                objid=cls.oid AND\n                deptype IN ('e', 'x')\n        )","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:33:29.8280668Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"19","parameters":"@__normalizedName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:33:29.9715437Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"@__normalizedName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:33:29.9954157Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"16","parameters":"@__normalizedName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:33:30.0733486Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"@__normalizedEmail_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"CreatedAt\", a.\"Email\", a.\"EmailConfirmed\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"\nFROM \"AspNetUsers\" AS a\nWHERE a.\"NormalizedEmail\" = @__normalizedEmail_0\nLIMIT 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:33:30.2548616Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"10","parameters":"@__normalizedRoleName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedRoleName_0\nLIMIT 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:33:30.3040417Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"@__p_0='?', @__p_1='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"UserId\", a.\"RoleId\"\nFROM \"AspNetUserRoles\" AS a\nWHERE a.\"UserId\" = @__p_0 AND a.\"RoleId\" = @__p_1\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:33:30.6870151Z","@mt":"Now listening on: {address}","address":"http://localhost:5067","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:33:30.6899325Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:33:30.6905036Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:33:30.6909540Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"/home/stephen/repos/csharp/EL/Web","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:37:07.5811675Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"122","parameters":"@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Messages\" (\"Content\", \"CreatedAt\", \"Email\", \"LastUpdated\", \"Order\", \"Removed\", \"ReturnContent\", \"Returned\", \"Subject\", \"UpdatedBy\")\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)\nRETURNING \"Id\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"839ff789-dfce-450e-8e11-960c66dca395","ActionName":"Web.Controllers.Tests.ATestsController.Store (Web)","RequestId":"0HMSHM6C4M8TJ:00000006","RequestPath":"/tests/ATests","ConnectionId":"0HMSHM6C4M8TJ"}
{"@t":"2023-07-31T10:37:50.1827104Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"16","parameters":"@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Messages\" (\"Content\", \"CreatedAt\", \"Email\", \"LastUpdated\", \"Order\", \"Removed\", \"ReturnContent\", \"Returned\", \"Subject\", \"UpdatedBy\")\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)\nRETURNING \"Id\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"839ff789-dfce-450e-8e11-960c66dca395","ActionName":"Web.Controllers.Tests.ATestsController.Store (Web)","RequestId":"0HMSHM6C4M8TJ:00000008","RequestPath":"/tests/ATests","ConnectionId":"0HMSHM6C4M8TJ"}
{"@t":"2023-07-31T10:37:59.2088305Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m.\"Id\", m.\"Content\", m.\"CreatedAt\", m.\"Email\", m.\"LastUpdated\", m.\"Order\", m.\"Removed\", m.\"ReturnContent\", m.\"Returned\", m.\"Subject\", m.\"UpdatedBy\"\nFROM \"Messages\" AS m\nWHERE NOT (m.\"Removed\")","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"57a133d9-b50f-4c47-98ce-bdf2b0921062","ActionName":"Web.Controllers.Tests.ATestsController.Index (Web)","RequestId":"0HMSHM6C4M8TJ:00000009","RequestPath":"/tests/ATests","ConnectionId":"0HMSHM6C4M8TJ"}
{"@t":"2023-07-31T10:39:41.5082629Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"16","parameters":"@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Messages\" (\"Content\", \"CreatedAt\", \"Email\", \"LastUpdated\", \"Order\", \"Removed\", \"ReturnContent\", \"Returned\", \"Subject\", \"UpdatedBy\")\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)\nRETURNING \"Id\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"839ff789-dfce-450e-8e11-960c66dca395","ActionName":"Web.Controllers.Tests.ATestsController.Store (Web)","RequestId":"0HMSHM6C4M8TJ:0000000A","RequestPath":"/tests/ATests","ConnectionId":"0HMSHM6C4M8TJ"}
{"@t":"2023-07-31T10:40:03.5863746Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m.\"Id\", m.\"Content\", m.\"CreatedAt\", m.\"Email\", m.\"LastUpdated\", m.\"Order\", m.\"Removed\", m.\"ReturnContent\", m.\"Returned\", m.\"Subject\", m.\"UpdatedBy\"\nFROM \"Messages\" AS m\nWHERE NOT (m.\"Removed\")","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"57a133d9-b50f-4c47-98ce-bdf2b0921062","ActionName":"Web.Controllers.Tests.ATestsController.Index (Web)","RequestId":"0HMSHM6C4M8TJ:0000000B","RequestPath":"/tests/ATests","ConnectionId":"0HMSHM6C4M8TJ"}
{"@t":"2023-07-31T10:40:58.5906187Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"32","parameters":"@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Messages\" (\"Content\", \"CreatedAt\", \"Email\", \"LastUpdated\", \"Order\", \"Removed\", \"ReturnContent\", \"Returned\", \"Subject\", \"UpdatedBy\")\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)\nRETURNING \"Id\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"839ff789-dfce-450e-8e11-960c66dca395","ActionName":"Web.Controllers.Tests.ATestsController.Store (Web)","RequestId":"0HMSHM6C4M8TJ:0000000C","RequestPath":"/tests/ATests","ConnectionId":"0HMSHM6C4M8TJ"}
{"@t":"2023-07-31T10:41:51.6911287Z","@mt":"Application is shutting down...","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:41:51.7341880Z","@mt":"finally"}
{"@t":"2023-07-31T10:42:15.4843140Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"67","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"\nSELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END\nFROM pg_class AS cls\nJOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\nWHERE\n        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND\n        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND\n        -- Exclude tables which are members of PG extensions\n        NOT EXISTS (\n            SELECT 1 FROM pg_depend WHERE\n                classid=(\n                    SELECT cls.oid\n                    FROM pg_class AS cls\n                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\n                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'\n                ) AND\n                objid=cls.oid AND\n                deptype IN ('e', 'x')\n        )","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:42:16.0375065Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"21","parameters":"@__normalizedName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:42:16.1897501Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"@__normalizedName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:42:16.1979525Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"@__normalizedName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:42:16.2744449Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"7","parameters":"@__normalizedEmail_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"CreatedAt\", a.\"Email\", a.\"EmailConfirmed\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"\nFROM \"AspNetUsers\" AS a\nWHERE a.\"NormalizedEmail\" = @__normalizedEmail_0\nLIMIT 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:42:16.4577102Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"19","parameters":"@__normalizedRoleName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedRoleName_0\nLIMIT 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:42:16.5194243Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"5","parameters":"@__p_0='?', @__p_1='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"UserId\", a.\"RoleId\"\nFROM \"AspNetUserRoles\" AS a\nWHERE a.\"UserId\" = @__p_0 AND a.\"RoleId\" = @__p_1\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:42:16.9642605Z","@mt":"Now listening on: {address}","address":"http://localhost:5067","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:42:16.9672994Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:42:16.9680337Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:42:16.9694109Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"/home/stephen/repos/csharp/EL/Web","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:42:28.7108623Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"38","parameters":"@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO \"Messages\" (\"Content\", \"CreatedAt\", \"Email\", \"LastUpdated\", \"Order\", \"Removed\", \"ReturnContent\", \"Returned\", \"Subject\", \"UpdatedBy\")\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)\nRETURNING \"Id\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b4069ff0-c8da-466f-b976-7bc206c9f84c","ActionName":"Web.Controllers.Tests.ATestsController.Store (Web)","RequestId":"0HMSHMBAT1FFS:00000001","RequestPath":"/tests/ATests","ConnectionId":"0HMSHMBAT1FFS"}
{"@t":"2023-07-31T10:42:35.3327383Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m.\"Id\", m.\"Content\", m.\"CreatedAt\", m.\"Email\", m.\"LastUpdated\", m.\"Order\", m.\"Removed\", m.\"ReturnContent\", m.\"Returned\", m.\"Subject\", m.\"UpdatedBy\"\nFROM \"Messages\" AS m\nWHERE NOT (m.\"Removed\")","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b44c840e-f574-4d42-b36d-e87cb19ac17f","ActionName":"Web.Controllers.Tests.ATestsController.Index (Web)","RequestId":"0HMSHMBAT1FFS:00000002","RequestPath":"/tests/ATests","ConnectionId":"0HMSHMBAT1FFS"}
{"@t":"2023-07-31T10:42:43.4112776Z","@mt":"Application is shutting down...","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:42:43.4515657Z","@mt":"finally"}
{"@t":"2023-07-31T10:49:57.2598616Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"46","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"\nSELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END\nFROM pg_class AS cls\nJOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\nWHERE\n        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND\n        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND\n        -- Exclude tables which are members of PG extensions\n        NOT EXISTS (\n            SELECT 1 FROM pg_depend WHERE\n                classid=(\n                    SELECT cls.oid\n                    FROM pg_class AS cls\n                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace\n                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'\n                ) AND\n                objid=cls.oid AND\n                deptype IN ('e', 'x')\n        )","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:49:57.7226772Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"19","parameters":"@__normalizedName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:49:57.8591973Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"@__normalizedName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:49:57.8701027Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"7","parameters":"@__normalizedName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:49:57.9375659Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"5","parameters":"@__normalizedEmail_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"ConcurrencyStamp\", a.\"CreatedAt\", a.\"Email\", a.\"EmailConfirmed\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"\nFROM \"AspNetUsers\" AS a\nWHERE a.\"NormalizedEmail\" = @__normalizedEmail_0\nLIMIT 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:49:58.1310371Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"19","parameters":"@__normalizedRoleName_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"Id\", a.\"ConcurrencyStamp\", a.\"Name\", a.\"NormalizedName\"\nFROM \"AspNetRoles\" AS a\nWHERE a.\"NormalizedName\" = @__normalizedRoleName_0\nLIMIT 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:49:58.1778947Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"5","parameters":"@__p_0='?', @__p_1='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT a.\"UserId\", a.\"RoleId\"\nFROM \"AspNetUserRoles\" AS a\nWHERE a.\"UserId\" = @__p_0 AND a.\"RoleId\" = @__p_1\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2023-07-31T10:49:58.5589886Z","@mt":"Now listening on: {address}","address":"http://localhost:5067","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:49:58.5617492Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:49:58.5623412Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:49:58.5627407Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"/home/stephen/repos/csharp/EL/Web","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T10:50:03.8516585Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT m.\"Id\", m.\"Content\", m.\"CreatedAt\", m.\"Email\", m.\"LastUpdated\", m.\"Order\", m.\"Removed\", m.\"ReturnContent\", m.\"Returned\", m.\"Subject\", m.\"UpdatedBy\"\nFROM \"Messages\" AS m\nWHERE NOT (m.\"Removed\")","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"72a71696-fd87-40d8-b452-f5b3fe9289bd","ActionName":"Web.Controllers.Tests.ATestsController.Index (Web)","RequestId":"0HMSHMFIKUR0T:00000001","RequestPath":"/tests/ATests","ConnectionId":"0HMSHMFIKUR0T"}
{"@t":"2023-07-31T11:10:24.0777561Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"Autofac.Core.DependencyResolutionException: An exception was thrown while activating ApplicationCore.Services.SendGridService.\n ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.Extensions.Options.IOptions`1[ApplicationCore.Settings.AppSettings])' on type 'SendGridService'.\n ---> ApplicationCore.Exceptions.EnvironmentVariableNotFound: key : SENDGRID_KEY\n   at ApplicationCore.Services.SendGridService..ctor(IOptions`1 appSettings) in /home/stephen/repos/csharp/EL/ApplicationCore/Services/Mail.cs:line 24\n   at lambda_method3(Closure, Object[])\n   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()\n   --- End of inner exception stack trace ---\n   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()\n   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext ctxt, Action`1 next)\n   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)\n   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)\n   --- End of inner exception stack trace ---\n   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)\n   at Autofac.Core.Resolving.Middleware.SharingMiddleware.<>c__DisplayClass5_0.<Execute>b__0()\n   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)\n   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)\n   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)\n   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)\n   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)\n   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)\n   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)\n   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)\n   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)\n   at lambda_method690(Closure, IServiceProvider, Object[])\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HMSHMFIKUR0U:00000002","RequestPath":"/admin/messages","ConnectionId":"0HMSHMFIKUR0U"}
{"@t":"2023-07-31T11:10:41.3505040Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"Autofac.Core.DependencyResolutionException: An exception was thrown while activating ApplicationCore.Services.SendGridService.\n ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.Extensions.Options.IOptions`1[ApplicationCore.Settings.AppSettings])' on type 'SendGridService'.\n ---> ApplicationCore.Exceptions.EnvironmentVariableNotFound: key : SENDGRID_KEY\n   at ApplicationCore.Services.SendGridService..ctor(IOptions`1 appSettings) in /home/stephen/repos/csharp/EL/ApplicationCore/Services/Mail.cs:line 24\n   at lambda_method3(Closure, Object[])\n   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()\n   --- End of inner exception stack trace ---\n   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()\n   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext ctxt, Action`1 next)\n   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)\n   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)\n   --- End of inner exception stack trace ---\n   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)\n   at Autofac.Core.Resolving.Middleware.SharingMiddleware.<>c__DisplayClass5_0.<Execute>b__0()\n   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)\n   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)\n   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)\n   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)\n   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)\n   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)\n   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)\n   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)\n   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)\n   at lambda_method690(Closure, IServiceProvider, Object[])\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HMSHMFIKUR0U:00000004","RequestPath":"/admin/messages","ConnectionId":"0HMSHMFIKUR0U"}
{"@t":"2023-07-31T12:13:40.6994142Z","@mt":"Application is shutting down...","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2023-07-31T12:13:41.1575903Z","@mt":"finally"}
